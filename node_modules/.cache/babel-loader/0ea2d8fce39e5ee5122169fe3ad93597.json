{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useRef}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{Link}from\"react-router-dom\";import{Container,Button,DropdownButton,Dropdown,Modal}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),signUp=_useState2[0],setsignUp=_useState2[1];var handleCloseSignUp=function handleCloseSignUp(){return setsignUp(false);};var handlesignUp=function handlesignUp(){return setsignUp(true);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signIn=_useState4[0],setsignIn=_useState4[1];var handleCloseSignIn=function handleCloseSignIn(){return setsignIn(false);};var handlesignIn=function handlesignIn(){return setsignIn(true);};var emailRef=useRef();var passwordRef=useRef();var confirmPasswordRef=useRef();// const onSignUp = (e) => {\n//   e.preventDefault();\n//   const data = {\n//     email: e.target.email.value,\n//     password: e.target.password.value,\n//     confirmPassword: e.target.confirmPassword.value,\n//   };\n//   console.log(data);\n// };\nvar addNewUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:3001/users\",{email:emailRef.current.value,password:passwordRef.current.value,confirmPassword:confirmPasswordRef.current.value});case 3:resp=_context.sent;props.sendUserGetRequest();console.log(resp.data);localStorage.setItem(\"token\",resp.data.token);localStorage.setItem(\"user\",JSON.stringify(resp.data.user));window.location.replace(\"/\");userNameRef.current.value=\"\";emailRef.current.value=\"\";passwordRef.current.value=\"\";_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function addNewUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"li\",{class:\"nav-item nav-link\",children:/*#__PURE__*/_jsxs(DropdownButton,{id:\"dropdown-basic-button\",title:\"Register here\",variant:\"primary\",children:[/*#__PURE__*/_jsx(Dropdown.Item,{className:\"dropdownButton\",onClick:handlesignUp,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Dropdown.Item,{className:\"dropdownButton\",onClick:handlesignIn,children:\"Sign In\"})]})}),/*#__PURE__*/_jsxs(Modal,{show:signUp,onHide:handleCloseSignUp,backdrop:\"static\",keyboard:false,animation:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{className:\"modalTitle\",children:\"Sign up\"})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNewUser,children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"labelClass\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"email\",name:\"email\",placeholder:\"enter your email\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"labelClass\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"password\",name:\"password\",placeholder:\"enter your password\"}),/*#__PURE__*/_jsx(\"label\",{className:\"labelClass\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",className:\"inputClass\",placeholder:\"confirm password\"}),/*#__PURE__*/_jsx(Button,{className:\"mt-5 modalButton\",type:\"submit\",children:\"Sign up\"})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"modalP\",children:\"Already have an account?\"}),/*#__PURE__*/_jsx(Button,{className:\"modalButton\",variant:\"primary\",onClick:handlesignIn,children:\"Sign in here\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:signIn,onHide:handleCloseSignIn,backdrop:\"static\",keyboard:false,animation:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{className:\"modalTitle mb-4\",children:\"Sign In\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:signIn,children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"labelClass\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"email\",name:\"email\",placeholder:\"enter your email\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"labelClass\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"password\",name:\"password\",placeholder:\"enter your password\"})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"modalButtonSignIn\",style:{marginRight:\"auto\"},children:\"Sign In\"})})]})]});};export default Login;","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/components/users/login.js"],"names":["React","useState","useRef","Link","Container","Button","DropdownButton","Dropdown","Modal","axios","Login","signUp","setsignUp","handleCloseSignUp","handlesignUp","signIn","setsignIn","handleCloseSignIn","handlesignIn","emailRef","passwordRef","confirmPasswordRef","addNewUser","post","email","current","value","password","confirmPassword","resp","props","sendUserGetRequest","console","log","data","localStorage","setItem","token","JSON","stringify","user","window","location","replace","userNameRef","marginRight"],"mappings":"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","sourcesContent":["import { React, useState, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Container,\n  Button,\n  DropdownButton,\n  Dropdown,\n  Modal,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Login = () => {\n  const [signUp, setsignUp] = useState(false);\n  const handleCloseSignUp = () => setsignUp(false);\n  const handlesignUp = () => setsignUp(true);\n  const [signIn, setsignIn] = useState(false);\n  const handleCloseSignIn = () => setsignIn(false);\n  const handlesignIn = () => setsignIn(true);\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n\n  // const onSignUp = (e) => {\n  //   e.preventDefault();\n  //   const data = {\n  //     email: e.target.email.value,\n  //     password: e.target.password.value,\n  //     confirmPassword: e.target.confirmPassword.value,\n  //   };\n  //   console.log(data);\n  // };\n\n  const addNewUser = async () => {\n    try {\n      const resp = await axios.post(\"http://localhost:3001/users\", {\n        email: emailRef.current.value,\n        password: passwordRef.current.value,\n        confirmPassword: confirmPasswordRef.current.value,\n      });\n      props.sendUserGetRequest();\n      console.log(resp.data);\n      localStorage.setItem(\"token\", resp.data.token);\n      localStorage.setItem(\"user\", JSON.stringify(resp.data.user));\n\n      window.location.replace(\"/\");\n      userNameRef.current.value = \"\";\n      emailRef.current.value = \"\";\n      passwordRef.current.value = \"\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Container>\n      <li class=\"nav-item nav-link\">\n        <DropdownButton\n          id=\"dropdown-basic-button\"\n          title=\"Register here\"\n          variant=\"primary\"\n        >\n          <Dropdown.Item className=\"dropdownButton\" onClick={handlesignUp}>\n            Sign Up\n          </Dropdown.Item>\n          <Dropdown.Item className=\"dropdownButton\" onClick={handlesignIn}>\n            Sign In\n          </Dropdown.Item>\n        </DropdownButton>\n      </li>\n      <Modal\n        show={signUp}\n        onHide={handleCloseSignUp}\n        backdrop=\"static\"\n        keyboard={false}\n        animation={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"modalTitle\">Sign up</Modal.Title>\n        </Modal.Header>\n        <Container>\n          <Modal.Body>\n            <form onSubmit={addNewUser}>\n              <label for=\"email\" className=\"labelClass\">\n                Email:\n              </label>\n              <input\n                className=\"inputClass\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"enter your email\"\n              />\n              <label for=\"password\" className=\"labelClass\">\n                Password:\n              </label>\n              <input\n                className=\"inputClass\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"enter your password\"\n              />\n              <label className=\"labelClass\">Confirm Password:</label>\n              <input\n                name=\"confirmPassword\"\n                className=\"inputClass\"\n                placeholder=\"confirm password\"\n              />\n              <Button className=\"mt-5 modalButton\" type=\"submit\">\n                Sign up\n              </Button>\n            </form>\n          </Modal.Body>\n        </Container>\n\n        <Modal.Footer>\n          <p className=\"modalP\">Already have an account?</p>\n          <Button\n            className=\"modalButton\"\n            variant=\"primary\"\n            onClick={handlesignIn}\n          >\n            Sign in here\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Modal\n        show={signIn}\n        onHide={handleCloseSignIn}\n        backdrop=\"static\"\n        keyboard={false}\n        animation={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"modalTitle mb-4\">Sign In</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"modalBody\">\n          <form onSubmit={signIn}>\n            <label for=\"email\" className=\"labelClass\">\n              Email:\n            </label>\n            <input\n              className=\"inputClass\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"enter your email\"\n            />\n            <label for=\"password\" className=\"labelClass\">\n              Password:\n            </label>\n            <input\n              className=\"inputClass\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"enter your password\"\n            />\n          </form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            variant=\"primary\"\n            className=\"modalButtonSignIn\"\n            style={{ marginRight: \"auto\" }}\n          >\n            Sign In\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}