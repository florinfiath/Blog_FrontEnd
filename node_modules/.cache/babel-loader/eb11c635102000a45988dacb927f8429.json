{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ReactQuill from\"react-quill\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require(\"axios\").default;var EditPost=function EditPost(props){var _useParams=useParams(),id=_useParams.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];useEffect(function(){var foundPostToEdit=props.edit.find(function(post){return post._id===id;});if(foundPostToEdit&&id){console.log(foundPostToEdit);setTitle(foundPostToEdit.title);setContent(foundPostToEdit.content);}},[id,props.edit]);var handleBody=function handleBody(data){setContent(data);};var updateBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(title,content){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={title:title,content:content};try{axios.put(\"http://localhost:3001/post/\".concat(id),data).then(function(res){props.sendGetRequest();window.location.replace(\"/\");});}catch(error){console.log(error);}console.log(data);case 3:case\"end\":return _context.stop();}}},_callee);}));return function updateBlogs(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\"section-1 addPost\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blog-form\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"form-control border border-dark\",id:\"inputTitle\",border:true,\"border-dark\":true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Content\"}),/*#__PURE__*/_jsx(ReactQuill,{value:content,className:\"border border-dark\",placeholder:\"write something amazing...\",modules:EditPost.modules,formats:EditPost.formats,onChange:handleBody,id:\"inputContent\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){updateBlogs(title,content);},type:\"button\",className:\"btn btn-primary mt-5\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Save\"})})]})})})});};EditPost.modules={toolbar:[[{header:\"1\"},{header:\"2\"},{font:[]}],[{size:[]}],[\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\"],[{list:\"ordered\"},{list:\"bullet\"},{indent:\"-1\"},{indent:\"+1\"}],[\"link\",\"image\",\"video\"],[\"clean\"]]};/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */EditPost.formats=[\"header\",\"font\",\"size\",\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\",\"list\",\"bullet\",\"indent\",\"link\",\"image\",\"video\"];/*\n * PropType validation\n */export default EditPost;","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/components/posts/editPost.js"],"names":["React","useEffect","useState","ReactQuill","useParams","axios","require","default","EditPost","props","id","title","setTitle","content","setContent","foundPostToEdit","edit","find","post","_id","console","log","handleBody","data","updateBlogs","put","then","res","sendGetRequest","window","location","replace","error","e","target","value","modules","formats","toolbar","header","font","size","list","indent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactQuill from \"react-quill\";\nimport {  useParams } from \"react-router-dom\";\n\nconst axios = require(\"axios\").default;\n\nconst EditPost = (props) => {\n  const { id } = useParams();\n\n  const [title, setTitle] = useState();\n  const [content, setContent] = useState();\n  \n\n  useEffect(() => {\n    const foundPostToEdit = props.edit.find((post) => post._id === id);\n\n    if (foundPostToEdit && id) {\n      console.log(foundPostToEdit);\n      setTitle(foundPostToEdit.title);\n      setContent(foundPostToEdit.content);\n    }\n  }, [id, props.edit]);\n\n  const handleBody = (data) => {\n    setContent(data);\n  };\n\n  const updateBlogs = async (title, content) => {\n \n    var data = {title, content };\n    try {\n      axios.put(`http://localhost:3001/post/${id}`, data).then((res) => {\n        props.sendGetRequest();\n        window.location.replace(\"/\");\n      });\n    } catch (error) {\n      console.log(error);\n    }\n    console.log(data);\n  };\n\n\n  return (\n    <section className=\"section-1 addPost\">\n      <div className=\"main-container\">\n      \n        <div className=\"blog-form\">\n          <form>\n            <div className=\"form-group\">\n              <h3>Title</h3>\n              <input\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                type=\"text\"\n                className=\"form-control border border-dark\"\n                id=\"inputTitle\"\n                border\n                border-dark\n              />\n            </div>\n            <div className=\"form-group\">\n              <h3>Content</h3>\n              <ReactQuill\n                value={content}\n                className=\"border border-dark\"\n                placeholder=\"write something amazing...\"\n                modules={EditPost.modules}\n                formats={EditPost.formats}\n                onChange={handleBody}\n                id=\"inputContent\"\n              />\n            </div>\n\n            <button\n              onClick={() => {\n                updateBlogs(title, content);\n              }}\n              type=\"button\"\n              className=\"btn btn-primary mt-5\"\n            >\n              <h3>Save</h3>\n            </button>\n          </form>\n    \n        </div>\n        \n      </div>\n    </section>\n  );\n};\n\nEditPost.modules = {\n  toolbar: [\n    [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\n    [{ size: [] }],\n    [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n    [\n      { list: \"ordered\" },\n      { list: \"bullet\" },\n      { indent: \"-1\" },\n      { indent: \"+1\" },\n    ],\n    [\"link\", \"image\", \"video\"],\n    [\"clean\"],\n  ],\n};\n/*\n * Quill editor formats\n * See https://quilljs.com/docs/formats/\n */\nEditPost.formats = [\n  \"header\",\n  \"font\",\n  \"size\",\n  \"bold\",\n  \"italic\",\n  \"underline\",\n  \"strike\",\n  \"blockquote\",\n  \"list\",\n  \"bullet\",\n  \"indent\",\n  \"link\",\n  \"image\",\n  \"video\",\n];\n\n/*\n * PropType validation\n */\n\nexport default EditPost;\n\n"]},"metadata":{},"sourceType":"module"}