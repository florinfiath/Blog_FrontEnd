{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{QuillDeltaToHtmlConverter}from\"quill-delta-to-html\";import{Link}from\"react-router-dom\";import{Container}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require(\"axios\").default;var ShowPosts=function ShowPosts(props){var contentHTML=null;var deletePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{axios.delete(\"http://localhost:3001/blog/\".concat(id),{data:{id:id}}).then(function(resp){props.sendGetRequest();});}catch(error){console.log(error);}case 1:case\"end\":return _context.stop();}}},_callee);}));return function deletePost(_x){return _ref.apply(this,arguments);};}();var updatePost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var foundPost;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:foundPost=props.posts.find(function(post){return post.id===id;});console.log(foundPost);try{axios.put(\"http://localhost:3001/blog/\".concat(id),{clicked:true}).then(function(resp){return props.sendGetRequest();});}catch(error){console.log(error);}case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function updatePost(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blog-container d-flex flex-wrap justify-content-center \",children:props.posts.length>0?props.posts.reverse().map(function(element){var converter=new QuillDeltaToHtmlConverter(element.content.ops,{});contentHTML=converter.convert();return/*#__PURE__*/_jsxs(\"div\",{className:\"post-box mt-5 col-lg-5 card d-flex\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"card-header\",children:element.title}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"card-text\",children:/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",dangerouslySetInnerHTML:{__html:contentHTML}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"pacifico-font\",children:[\"posted by: \",element.user]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center align-items-end\",children:[/*#__PURE__*/_jsx(Link,{to:\"/post\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"m-3\",onClick:function onClick(){return updatePost(element.id);},children:[\" \",/*#__PURE__*/_jsx(\"i\",{class:\"far fa-edit fa-2x\"})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"m-3\",onClick:function onClick(){return deletePost(element.id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash-alt fa-2x\"})})]})]});}):/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"LOADING...\"})})});};export default ShowPosts;","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/components/posts/showPosts.js"],"names":["React","QuillDeltaToHtmlConverter","Link","Container","axios","require","default","ShowPosts","props","contentHTML","deletePost","id","delete","data","then","resp","sendGetRequest","error","console","log","updatePost","foundPost","posts","find","post","put","clicked","length","reverse","map","element","converter","content","ops","convert","title","__html","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { QuillDeltaToHtmlConverter } from \"quill-delta-to-html\";\nimport { Link } from \"react-router-dom\";\nimport { Container } from \"react-bootstrap\";\n\nconst axios = require(\"axios\").default;\n\n \n\nconst ShowPosts = (props) => {\n  let contentHTML = null;\n\n  const deletePost = async (id) => {\n    try {\n      axios\n        .delete(`http://localhost:3001/blog/${id}`, {\n          data: { id: id },\n        })\n        .then((resp) => {\n          props.sendGetRequest();\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const updatePost = async (id) => {\n    const foundPost = props.posts.find((post) => post.id === id);\n    console.log(foundPost);\n    try {\n      axios\n        .put(`http://localhost:3001/blog/${id}`, {\n          clicked: true,\n        })\n        .then((resp) => props.sendGetRequest());\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Container className=\"mt-5\">\n      <div className=\"blog-container d-flex flex-wrap justify-content-center \">\n        {props.posts.length > 0 ? (\n          props.posts.reverse().map((element) => {\n            const converter = new QuillDeltaToHtmlConverter(\n              element.content.ops,\n              {}\n            );\n            contentHTML = converter.convert();\n            return (\n              <div className=\"post-box mt-5 col-lg-5 card d-flex\">\n                <h3 class=\"card-header\">{element.title}</h3>\n                <div class=\"card-body\">\n                  <p class=\"card-text\">\n                    <div\n                      className=\"post-content\"\n                      dangerouslySetInnerHTML={{\n                        __html: contentHTML,\n                      }}\n                    ></div>\n                  </p>\n                  <p className=\"pacifico-font\">posted by: {element.user}</p>\n                </div>\n                <div className=\"d-flex justify-content-center align-items-end\">\n                  <Link to={\"/post\"}>\n                    <span\n                      className=\"m-3\"\n                      onClick={() => updatePost(element.id)}\n                    >\n                      {\" \"}\n                      <i class=\"far fa-edit fa-2x\"></i>\n                    </span>\n                  </Link>\n\n                  <span className=\"m-3\" onClick={() => deletePost(element.id)}>\n                    <i class=\"fas fa-trash-alt fa-2x\"></i>\n                  </span>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"loader\">LOADING...</div>\n        )}\n      </div>\n    </Container>\n  );\n        }\nexport default ShowPosts;\n"]},"metadata":{},"sourceType":"module"}