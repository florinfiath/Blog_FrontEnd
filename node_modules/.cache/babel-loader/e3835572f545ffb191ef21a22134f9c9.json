{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useRef}from\"react\";import{Container,Button,Modal}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require(\"axios\").default;// USER SIGN UP\nvar UserRegister=function UserRegister(props){var emailRef=useRef();var passwordRef=useRef();var confirmPasswordRef=useRef();var addNewUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:3001/users\",{email:emailRef.current.value,password:passwordRef.current.value,confirmPassword:confirmPasswordRef.current.value});case 3:response=_context.sent;props.sendUserGetRequest();console.log(response.data);localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"user\",JSON.stringify(response.data.user));window.location.replace(\"/\");emailRef.current.value=\"\";passwordRef.current.value=\"\";_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function addNewUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:addNewUser,children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"labelClass\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"email\",name:\"email\",placeholder:\"enter your email\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"labelClass\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"password\",name:\"password\",placeholder:\"enter your password\"}),/*#__PURE__*/_jsx(\"label\",{className:\"labelClass\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",className:\"inputClass\",placeholder:\"confirm password\"}),/*#__PURE__*/_jsx(Button,{className:\"mt-5 modalButton\",type:\"submit\",children:\"Sign up\"})]})})});};export default UserRegister;","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/components/users/registerUser.js"],"names":["React","useRef","Container","Button","Modal","axios","require","default","UserRegister","props","emailRef","passwordRef","confirmPasswordRef","addNewUser","post","email","current","value","password","confirmPassword","response","sendUserGetRequest","console","log","data","localStorage","setItem","token","JSON","stringify","user","window","location","replace"],"mappings":"uUAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OACEC,SADF,CAEEC,MAFF,CAGEC,KAHF,KAIO,iBAJP,C,wFAKA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B,CAEA;AAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,QAAQ,CAAGT,MAAM,EAAvB,CACA,GAAMU,CAAAA,WAAW,CAAGV,MAAM,EAA1B,CACA,GAAMW,CAAAA,kBAAkB,CAAGX,MAAM,EAAjC,CAGF,GAAMY,CAAAA,UAAU,0FAAG,sLAEQR,CAAAA,KAAK,CAACS,IAAN,CAAW,6BAAX,CAA0C,CAC/DC,KAAK,CAAEL,QAAQ,CAACM,OAAT,CAAiBC,KADuC,CAE/DC,QAAQ,CAAEP,WAAW,CAACK,OAAZ,CAAoBC,KAFiC,CAG/DE,eAAe,CAAEP,kBAAkB,CAACI,OAAnB,CAA2BC,KAHmB,CAA1C,CAFR,QAETG,QAFS,eAOfX,KAAK,CAACY,kBAAN,GACAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BN,QAAQ,CAACI,IAAT,CAAcG,KAA5C,EACAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BE,IAAI,CAACC,SAAL,CAAeT,QAAQ,CAACI,IAAT,CAAcM,IAA7B,CAA7B,EACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,EACAvB,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,CAAyB,EAAzB,CACAN,WAAW,CAACK,OAAZ,CAAoBC,KAApB,CAA4B,EAA5B,CAbe,iFAefK,OAAO,CAACC,GAAR,cAfe,qEAAH,kBAAVV,CAAAA,UAAU,0CAAhB,CAkBA,mBACE,KAAC,SAAD,wBACE,KAAC,KAAD,CAAO,IAAP,wBACE,cAAM,QAAQ,CAAEA,UAAhB,wBACE,cAAO,GAAG,CAAC,OAAX,CAAmB,SAAS,CAAC,YAA7B,oBADF,cAIE,cACE,SAAS,CAAC,YADZ,CAEE,EAAE,CAAC,OAFL,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,kBAJd,EAJF,cAUE,cAAO,GAAG,CAAC,UAAX,CAAsB,SAAS,CAAC,YAAhC,uBAVF,cAaE,cACE,SAAS,CAAC,YADZ,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,qBAJd,EAbF,cAmBE,cAAO,SAAS,CAAC,YAAjB,+BAnBF,cAoBE,cACE,IAAI,CAAC,iBADP,CAEE,SAAS,CAAC,YAFZ,CAGE,WAAW,CAAC,kBAHd,EApBF,cAyBE,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAqC,IAAI,CAAC,QAA1C,qBAzBF,GADF,EADF,EADF,CAoCC,CA5DD,CA8DA,cAAeL,CAAAA,YAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport {\n  Container,\n  Button,\n  Modal,\n} from \"react-bootstrap\";\nconst axios = require(\"axios\").default;\n\n// USER SIGN UP\n\nconst UserRegister = (props) => {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n\n\nconst addNewUser = async () => {\n  try {\n    const response = await axios.post(\"http://localhost:3001/users\", {\n      email: emailRef.current.value,\n      password: passwordRef.current.value,\n      confirmPassword: confirmPasswordRef.current.value\n    });\n    props.sendUserGetRequest();\n    console.log(response.data);\n    localStorage.setItem(\"token\", response.data.token);\n    localStorage.setItem(\"user\", JSON.stringify(response.data.user));\n    window.location.replace(\"/\");\n    emailRef.current.value = \"\";\n    passwordRef.current.value = \"\";\n  } catch (error) {\n    console.log(error);\n  }\n};\nreturn (\n  <Container>\n    <Modal.Body>\n      <form onSubmit={addNewUser}>\n        <label for=\"email\" className=\"labelClass\">\n          Email:\n        </label>\n        <input\n          className=\"inputClass\"\n          id=\"email\"\n          name=\"email\"\n          placeholder=\"enter your email\"\n        />\n        <label for=\"password\" className=\"labelClass\">\n          Password:\n        </label>\n        <input\n          className=\"inputClass\"\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"enter your password\"\n        />\n        <label className=\"labelClass\">Confirm Password:</label>\n        <input\n          name=\"confirmPassword\"\n          className=\"inputClass\"\n          placeholder=\"confirm password\"\n        />\n        <Button className=\"mt-5 modalButton\" type=\"submit\">\n          Sign up\n        </Button>\n      </form>\n    </Modal.Body>\n  </Container>\n);\n\n};\n\nexport default UserRegister;\n\n\n"]},"metadata":{},"sourceType":"module"}