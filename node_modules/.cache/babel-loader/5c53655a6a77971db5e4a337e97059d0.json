{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useRef}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{Link}from\"react-router-dom\";import{Container,Button,DropdownButton,Dropdown,Modal}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),signUp=_useState2[0],setsignUp=_useState2[1];var handleCloseSignUp=function handleCloseSignUp(){return setsignUp(false);};var handlesignUp=function handlesignUp(){return setsignUp(true);};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),signIn=_useState4[0],setsignIn=_useState4[1];var handleCloseSignIn=function handleCloseSignIn(){return setsignIn(false);};var handlesignIn=function handlesignIn(){return setsignIn(true);};var emailRef=useRef();var passwordRef=useRef();// USER SIGN IN \nvar loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(emailRef.current.value);try{axios.post(\"http://localhost:3001/users/login\",{email:emailRef.current.value,password:passwordRef.current.value}).then(function(resp){console.log(resp.data);localStorage.setItem(\"token\",resp.data.token);localStorage.setItem(\"user\",JSON.stringify(resp.data.user));window.location.replace(\"/\");});}catch(error){console.log(error);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function loginUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"li\",{class:\"nav-item nav-link\",children:/*#__PURE__*/_jsxs(DropdownButton,{id:\"dropdown-basic-button\",title:\"Register here\",variant:\"primary\",children:[/*#__PURE__*/_jsx(Dropdown.Item,{className:\"dropdownButton\",onClick:handlesignUp,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Dropdown.Item,{className:\"dropdownButton\",onClick:handlesignIn,children:\"Sign In\"})]})}),/*#__PURE__*/_jsxs(Modal,{show:signUp,onHide:handleCloseSignUp,backdrop:\"static\",keyboard:false,animation:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{className:\"modalTitle\",children:\"Sign up\"})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:signUp,children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"labelClass\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"email\",name:\"email\",placeholder:\"enter your email\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"labelClass\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"password\",name:\"password\",placeholder:\"enter your password\"}),/*#__PURE__*/_jsx(\"label\",{className:\"labelClass\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"confirmPassword\",className:\"inputClass\",placeholder:\"confirm password\"}),/*#__PURE__*/_jsx(Button,{className:\"mt-5 modalButton\",type:\"submit\",children:\"Sign up\"})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"modalP\",children:\"Already have an account?\"}),/*#__PURE__*/_jsx(Button,{className:\"modalButton\",variant:\"primary\",onClick:handlesignIn,children:\"Sign in here\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:signIn,onHide:handleCloseSignIn,backdrop:\"static\",keyboard:false,animation:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{className:\"modalTitle mb-4\",children:\"Sign In\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"modalBody\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginUser,children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",className:\"labelClass\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"email\",name:\"email\",placeholder:\"enter your email\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",className:\"labelClass\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"inputClass\",id:\"password\",name:\"password\",placeholder:\"enter your password\"})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"modalButtonSignIn\",style:{marginRight:\"auto\"},children:\"Sign In\"})})]})]});};export default Login;","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/components/users/login.js"],"names":["React","useState","useRef","Link","Container","Button","DropdownButton","Dropdown","Modal","axios","Login","signUp","setsignUp","handleCloseSignUp","handlesignUp","signIn","setsignIn","handleCloseSignIn","handlesignIn","emailRef","passwordRef","loginUser","console","log","current","value","post","email","password","then","resp","data","localStorage","setItem","token","JSON","stringify","user","window","location","replace","error","marginRight"],"mappings":"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","sourcesContent":["import { React, useState, useRef } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Container,\n  Button,\n  DropdownButton,\n  Dropdown,\n  Modal,\n} from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst Login = () => {\n  const [signUp, setsignUp] = useState(false);\n  const handleCloseSignUp = () => setsignUp(false);\n  const handlesignUp = () => setsignUp(true);\n  const [signIn, setsignIn] = useState(false);\n  const handleCloseSignIn = () => setsignIn(false);\n  const handlesignIn = () => setsignIn(true);\n\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  // USER SIGN IN \n  const loginUser = async () => {\n    console.log(emailRef.current.value);\n    try {\n      axios\n        .post(\"http://localhost:3001/users/login\", {\n          email: emailRef.current.value,\n          password: passwordRef.current.value,\n        })\n        .then((resp) => {\n          console.log(resp.data);\n          localStorage.setItem(\"token\", resp.data.token);\n          localStorage.setItem(\"user\", JSON.stringify(resp.data.user));\n          window.location.replace(\"/\");\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  \n\n  return (\n    <Container>\n      <li class=\"nav-item nav-link\">\n        <DropdownButton\n          id=\"dropdown-basic-button\"\n          title=\"Register here\"\n          variant=\"primary\"\n        >\n          <Dropdown.Item className=\"dropdownButton\" onClick={handlesignUp}>\n            Sign Up\n          </Dropdown.Item>\n          <Dropdown.Item className=\"dropdownButton\" onClick={handlesignIn}>\n            Sign In\n          </Dropdown.Item>\n        </DropdownButton>\n      </li>\n      <Modal\n        show={signUp}\n        onHide={handleCloseSignUp}\n        backdrop=\"static\"\n        keyboard={false}\n        animation={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"modalTitle\">Sign up</Modal.Title>\n        </Modal.Header>\n        <Container>\n          <Modal.Body>\n            <form onSubmit={signUp}>\n              <label for=\"email\" className=\"labelClass\">\n                Email:\n              </label>\n              <input\n                className=\"inputClass\"\n                id=\"email\"\n                name=\"email\"\n                placeholder=\"enter your email\"\n              />\n              <label for=\"password\" className=\"labelClass\">\n                Password:\n              </label>\n              <input\n                className=\"inputClass\"\n                id=\"password\"\n                name=\"password\"\n                placeholder=\"enter your password\"\n              />\n              <label className=\"labelClass\">Confirm Password:</label>\n              <input\n                name=\"confirmPassword\"\n                className=\"inputClass\"\n                placeholder=\"confirm password\"\n              />\n              <Button className=\"mt-5 modalButton\" type=\"submit\">\n                Sign up\n              </Button>\n            </form>\n          </Modal.Body>\n        </Container>\n\n        <Modal.Footer>\n          <p className=\"modalP\">Already have an account?</p>\n          <Button\n            className=\"modalButton\"\n            variant=\"primary\"\n            onClick={handlesignIn}\n          >\n            Sign in here\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      <Modal\n        show={signIn}\n        onHide={handleCloseSignIn}\n        backdrop=\"static\"\n        keyboard={false}\n        animation={false}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title className=\"modalTitle mb-4\">Sign In</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"modalBody\">\n          <form onSubmit={loginUser}>\n            <label for=\"email\" className=\"labelClass\">\n              Email:\n            </label>\n            <input\n              className=\"inputClass\"\n              id=\"email\"\n              name=\"email\"\n              placeholder=\"enter your email\"\n            />\n            <label for=\"password\" className=\"labelClass\">\n              Password:\n            </label>\n            <input\n              className=\"inputClass\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"enter your password\"\n            />\n          </form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            variant=\"primary\"\n            className=\"modalButtonSignIn\"\n            style={{ marginRight: \"auto\" }}\n          >\n            Sign In\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </Container>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}