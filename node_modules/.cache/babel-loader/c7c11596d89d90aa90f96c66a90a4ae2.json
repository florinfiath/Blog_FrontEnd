{"ast":null,"code":"import _regeneratorRuntime from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/dci/Desktop/Workspace/Blog/Frontend/blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ReactDOM from\"react-dom\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../node_modules/react-quill/dist/quill.snow.css\";import\"@fortawesome/fontawesome-free/css/all.min.css\";import\"bootstrap-css-only/css/bootstrap.min.css\";import\"mdbreact/dist/css/mdb.css\";import Home from\"./components/home\";import AddPost from\"./components/posts/addPost\";import ShowPosts from\"./components/posts/showPosts\";import PostDetails from\"./components/posts/postDetails\";import EditPost from\"./components/posts/editPost\";import ShowUser from\"./components/users/showUser\";import UserDetails from\"./components/users/userDetails\";import UserRegister from\"./components/users/registerUser\";import Login from\"./components/users/login\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState({token:undefined,user:undefined}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var sendGetRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var postsdata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:3001/post\");case 3:postsdata=_context.sent;setPost(postsdata.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function sendGetRequest(){return _ref.apply(this,arguments);};}();var sendUserGetRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"http://localhost:3001/users\");case 3:response=_context2.sent;setUser(response.data);console.log(response.data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function sendUserGetRequest(){return _ref2.apply(this,arguments);};}();useEffect(function(){sendGetRequest();},[]);useEffect(function(){sendUserGetRequest();},[]);// const  checkLoggedIn = async() =>{\n//   let token = localStorage.getItem(\"auth-token\");\n//   if(tokenResponse.data) {\n//   }\n// }\nreturn/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Home,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(ShowPosts,{show:post})}),/*#__PURE__*/_jsx(Route,{path:\"/addPost\",children:/*#__PURE__*/_jsx(AddPost,{sendGetRequest:sendGetRequest})}),/*#__PURE__*/_jsx(Route,{path:\"/postDetails/:id\",render:function render(props){var onepost=post.find(function(post){return post._id===props.match.params.id;});if(onepost){return/*#__PURE__*/_jsx(PostDetails,{showPostDetails:onepost,sendGetRequest:sendGetRequest});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(ShowUser,{show:user})}),/*#__PURE__*/_jsx(Route,{path:\"/userDetails/:id\",render:function render(props){var oneuser=user.find(function(user){return user.id===props.match.params.id;});if(oneuser){return/*#__PURE__*/_jsx(UserDetails,{showUserDetails:oneuser,sendUserGetRequest:sendUserGetRequest});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}}}),/*#__PURE__*/_jsx(Route,{path:\"/editPost/:id\",children:post&&/*#__PURE__*/_jsx(EditPost,{edit:post,sendGetRequest:sendGetRequest})})]})]});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById(\"root\"));","map":{"version":3,"sources":["/home/dci/Desktop/Workspace/Blog/Frontend/blog/src/index.js"],"names":["React","useEffect","useState","ReactDOM","BrowserRouter","Router","Switch","Route","Redirect","Home","AddPost","ShowPosts","PostDetails","EditPost","ShowUser","UserDetails","UserRegister","Login","axios","App","post","setPost","token","undefined","user","setUser","sendGetRequest","get","postsdata","data","console","error","sendUserGetRequest","response","log","props","onepost","find","_id","match","params","id","oneuser","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../node_modules/react-quill/dist/quill.snow.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\n\nimport Home from \"./components/home\";\nimport AddPost from \"./components/posts/addPost\";\nimport ShowPosts from \"./components/posts/showPosts\";\nimport PostDetails from \"./components/posts/postDetails\";\nimport EditPost from \"./components/posts/editPost\";\nimport ShowUser from \"./components/users/showUser\";\nimport UserDetails from \"./components/users/userDetails\";\nimport UserRegister from \"./components/users/registerUser\";\nimport Login from \"./components/users/login\";\nimport axios from \"axios\";\n\nconst App = () => {\n  const [post, setPost] = useState([]);\n  const [user, setUser] = useState({\n    token: undefined,\n    user: undefined,\n  });\n\n  const sendGetRequest = async () => {\n    try {\n      const postsdata = await axios.get(\"http://localhost:3001/post\");\n      setPost(postsdata.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const sendUserGetRequest = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:3001/users\");\n      setUser(response.data);\n      console.log(response.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  useEffect(() => {\n    sendGetRequest();\n  }, []);\n  useEffect(() => {\n    sendUserGetRequest();\n  }, []);\n\n  // const  checkLoggedIn = async() =>{\n  //   let token = localStorage.getItem(\"auth-token\");\n  //   if(tokenResponse.data) {\n\n  //   }\n  // }\n\n  return (\n    <Router>\n      <Home />\n      <Switch>\n        <Route exact path=\"/\">\n          <ShowPosts show={post} />\n        </Route>\n        <Route path=\"/addPost\">\n          <AddPost sendGetRequest={sendGetRequest} />\n        </Route>\n        <Route\n          path=\"/postDetails/:id\"\n          render={(props) => {\n            let onepost = post.find(\n              (post) => post._id === props.match.params.id\n            );\n            if (onepost) {\n              return (\n                <PostDetails\n                  showPostDetails={onepost}\n                  sendGetRequest={sendGetRequest}\n                />\n              );\n            } else {\n              return <Redirect to=\"/\" />;\n            }\n          }}\n        ></Route>\n        <Route exact path=\"/\">\n          <ShowUser show={user} />\n        </Route>\n        <Route\n          path=\"/userDetails/:id\"\n          render={(props) => {\n            let oneuser = user.find(\n              (user) => user.id === props.match.params.id\n            );\n            if (oneuser) {\n              return (\n                <UserDetails\n                  showUserDetails={oneuser}\n                  sendUserGetRequest={sendUserGetRequest}\n                />\n              );\n            } else {\n              return <Redirect to=\"/\" />;\n            }\n          }}\n        ></Route>\n        <Route path=\"/editPost/:id\">\n          {post && <EditPost edit={post} sendGetRequest={sendGetRequest} />}\n        </Route>\n      </Switch>\n      {/* <p>Thanks for visiting, goodbye {localStorage.getItem(\"user\")}</p> */}\n    </Router>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}