(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{241:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),c=n(12),r=n(15),o=n(0),i=n(18),l=n.n(i),d=n(11),u=n(9),j=(n(61),n(110),n(111),n(112),n(113),n(247)),b=n(248),h=n(104),m=n(249),p=n(102),O=n(20),x=n.n(O),f=n(1),v=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(!1),l=Object(r.a)(i,2),d=l[0],u=l[1],O=function(){return u(!0)},v=Object(o.useRef)(),g=Object(o.useRef)(),N=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(v.current.value);try{x.a.post("http://localhost:3001/users/login",{email:v.current.value,password:g.current.value}).then((function(e){console.log(e.data),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),window.location.replace("/")}))}catch(t){console.log(t)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(j.a,{children:[Object(f.jsx)("li",{class:"nav-item nav-link",children:Object(f.jsxs)(b.a,{id:"dropdown-basic-button",title:"Register here",variant:"primary",children:[Object(f.jsx)(h.a.Item,{className:"dropdownButton",onClick:function(){return a(!0)},children:"Sign Up"}),Object(f.jsx)(h.a.Item,{className:"dropdownButton",onClick:O,children:"Sign In"})]})}),Object(f.jsxs)(m.a,{show:n,onHide:function(){return a(!1)},backdrop:"static",keyboard:!1,animation:!1,children:[Object(f.jsx)(m.a.Header,{closeButton:!0,children:Object(f.jsx)(m.a.Title,{className:"modalTitle",children:"Sign up"})}),Object(f.jsx)(j.a,{children:Object(f.jsx)(m.a.Body,{children:Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsx)("label",{for:"email",className:"labelClass",children:"Email:"}),Object(f.jsx)("input",{className:"inputClass",id:"email",name:"email",placeholder:"enter your email"}),Object(f.jsx)("label",{for:"password",className:"labelClass",children:"Password:"}),Object(f.jsx)("input",{className:"inputClass",id:"password",name:"password",placeholder:"enter your password"}),Object(f.jsx)("label",{className:"labelClass",children:"Confirm Password:"}),Object(f.jsx)("input",{name:"confirmPassword",className:"inputClass",placeholder:"confirm password"}),Object(f.jsx)(p.a,{className:"mt-5 modalButton",type:"submit",children:"Sign up"})]})})}),Object(f.jsxs)(m.a.Footer,{children:[Object(f.jsx)("p",{className:"modalP",children:"Already have an account?"}),Object(f.jsx)(p.a,{className:"modalButton",variant:"primary",onClick:O,children:"Sign in here"})]})]}),Object(f.jsxs)(m.a,{show:d,onHide:function(){return u(!1)},backdrop:"static",keyboard:!1,animation:!1,children:[Object(f.jsx)(m.a.Header,{closeButton:!0,children:Object(f.jsx)(m.a.Title,{className:"modalTitle mb-4",children:"Sign In"})}),Object(f.jsx)(m.a.Body,{className:"modalBody",children:Object(f.jsxs)("form",{onSubmit:N,children:[Object(f.jsx)("label",{for:"email",className:"labelClass",children:"Email:"}),Object(f.jsx)("input",{className:"inputClass",id:"email",name:"email",placeholder:"enter your email"}),Object(f.jsx)("label",{for:"password",className:"labelClass",children:"Password:"}),Object(f.jsx)("input",{className:"inputClass",id:"password",name:"password",placeholder:"enter your password"})]})}),Object(f.jsx)(m.a.Footer,{children:Object(f.jsx)(p.a,{variant:"primary",className:"modalButtonSignIn",style:{marginRight:"auto"},children:"Sign In"})})]})]})},g=function(){return Object(f.jsx)(j.a,{children:Object(f.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark img-fluid max-width: 100% height: auto nav-container",children:[Object(f.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(f.jsx)("span",{class:"navbar-toggler-icon"})}),Object(f.jsx)("div",{class:"collapse navbar-collapse navbar-nav",id:"navbarNavAltMarkup",children:Object(f.jsxs)("div",{className:"floatright",children:[Object(f.jsx)("li",{className:"nav-item nav-link active",children:Object(f.jsx)(d.b,{to:"/",className:"nav-item nav-link active",children:"Home"})}),Object(f.jsx)("li",{class:"nav-item nav-link",children:Object(f.jsx)(d.b,{to:"/AddPost",className:"nav-item nav-link active",children:"New Post"})}),Object(f.jsx)("li",{children:Object(f.jsx)(v,{})})]})})]})})},N=n(55),w=n.n(N),k=(n(241),n(20).default),y=function e(t){var n=Object(o.useState)(""),a=Object(r.a)(n,2),i=a[0],l=a[1],d=Object(o.useState)(""),j=Object(r.a)(d,2),b=j[0],h=j[1],m=Object(o.useState)(""),p=Object(r.a)(m,2),O=(p[0],p[1]),x=Object(o.useRef)(),v=Object(o.useRef)(),g=Object(u.g)(),N=function(){var e=Object(c.a)(s.a.mark((function e(n,a){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.post("http://localhost:3001/post/",{title:n,content:a});case 3:return c=e.sent,e.next=6,t.sendGetRequest({title:i});case 6:console.log("response is :"+JSON.stringify(c)),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(x.current.value,v.current.value);case 3:O(""),l(""),t.sendGetRequest(),g.push("/"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0.response),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"blog-form",children:[Object(f.jsx)("div",{className:"blog-form",children:b&&Object(f.jsxs)("div",{className:"errors",children:[Object(f.jsx)("h1",{children:"There are some errors below:"})," ",Object(f.jsx)("br",{}),Object(f.jsx)("ul",{children:b.errors.map((function(e){return Object.entries(e)})).map((function(e){return Object(f.jsxs)("li",{children:[e[0][0]," - ",e[0][1]]})}))})]})}),Object(f.jsxs)("form",{children:[Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("h3",{children:"Add a New Post"}),Object(f.jsx)("p",{children:"Title:"}),Object(f.jsx)("input",{type:"text",class:"form-control",id:"addTitlePost",placeholder:"Enter post title",ref:x})]}),Object(f.jsxs)("div",{class:"form-group",children:[Object(f.jsx)("p",{children:"Content:"}),Object(f.jsx)(w.a,{className:"border border-dark",placeholder:"write something amazing...",modules:e.modules,formats:e.formats,onChange:function(e){console.log(e),v.current.value=e},ref:v,id:"inputContent"})]}),Object(f.jsx)("button",{type:"button",onClick:function(){y()},className:"btn btn-primary mt-5",children:"Save"})]})]})};y.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},y.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var S=y,C=function(e){return Object(f.jsx)(j.a,{children:Object(f.jsx)("div",{className:"post-container pacifico-font pt-3",children:Object(f.jsx)("div",{className:"btn-container mx-auto",children:e.show.map((function(e,t){return Object(f.jsx)(d.b,{to:"/postDetails/".concat(e._id),children:Object(f.jsx)("p",{children:e.title},t)})}))})})})},B=n(20),P=function(e){var t=e.showPostDetails,n=function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{B.delete("http://localhost:3001/post/".concat(n),{data:{id:n}}).then((function(t){return e.sendGetRequest(t.data)}))}catch(a){console.log(a)}console.log(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("section",{className:"post-section",children:t?Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h1",{className:"card-title",children:t.title}),Object(f.jsx)("p",{dangerouslySetInnerHTML:{__html:t.content},className:"card-text"}),Object(f.jsx)(d.b,{className:"p-5",to:"/editPost/".concat(t._id),children:Object(f.jsx)("button",{className:"btn btn-primary mt-5 postButton",children:"Edit"})}),Object(f.jsx)("button",{onClick:function(){n(t._id)},className:"btn btn-primary mt-5 postButton",children:"Delete"})]}):null})},R=n(20).default,q=function e(t){var n=Object(u.h)().id,a=Object(o.useState)(),i=Object(r.a)(a,2),l=i[0],d=i[1],j=Object(o.useState)(),b=Object(r.a)(j,2),h=b[0],m=b[1];Object(o.useEffect)((function(){var e=t.edit.find((function(e){return e._id===n}));e&&n&&(console.log(e),d(e.title),m(e.content))}),[n,t.edit]);var p=function(){var e=Object(c.a)(s.a.mark((function e(a,c){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={title:a,content:c};try{R.put("http://localhost:3001/post/".concat(n),r).then((function(e){t.sendGetRequest(),window.location.replace("/")}))}catch(s){console.log(s)}console.log(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsx)("section",{className:"section-1 addPost",children:Object(f.jsx)("div",{className:"main-container",children:Object(f.jsx)("div",{className:"blog-form",children:Object(f.jsxs)("form",{children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("h3",{children:"Title"}),Object(f.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)},type:"text",className:"form-control border border-dark",id:"inputTitle",border:!0,"border-dark":!0})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("h3",{children:"Content"}),Object(f.jsx)(w.a,{value:h,className:"border border-dark",placeholder:"write something amazing...",modules:e.modules,formats:e.formats,onChange:function(e){m(e)},id:"inputContent"})]}),Object(f.jsx)("button",{onClick:function(){p(l,h)},type:"button",className:"btn btn-primary mt-5",children:Object(f.jsx)("h3",{children:"Save"})})]})})})})};q.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]]},q.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];var T=q,I=function(e){return Object(f.jsxs)("div",{className:"maincolumn",children:[Object(f.jsx)("div",{className:"card",children:Object(f.jsx)("h3",{children:"User Details"})}),Object(f.jsx)("div",{className:"card",children:e.show.map((function(e,t){return Object(f.jsx)(d.b,{to:"/showUser/".concat(e.id),children:Object(f.jsx)("p",{children:e.title},t)})}))})]})},D=n(20),E=function(e){var t=e.showUserDetails,n=function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{D.delete("http://localhost:3001/user/".concat(n),{data:{id:n}}).then((function(t){return e.sendUserGetRequest(t.data)}))}catch(a){console.log(a)}console.log(n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("section",{className:"user-section",children:t?Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h1",{className:"card-title",children:t.name}),Object(f.jsx)("p",{dangerouslySetInnerHTML:{__html:t.content},className:"card-text"}),Object(f.jsx)(d.b,{className:"p-5",to:"/editUser/".concat(t.id),children:Object(f.jsx)("button",{className:"btn btn-primary mt-5 userButton",children:"Edit"})}),Object(f.jsx)("button",{onClick:function(){n(t.id)},className:"btn btn-primary mt-5 postButton",children:"Delete"})]}):null})},G=(n(20).default,function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)({token:void 0,user:void 0}),l=Object(r.a)(i,2),j=l[0],b=l[1],h=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://localhost:3001/post");case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://localhost:3001/users");case 3:t=e.sent,b(t.data),console.log(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){h()}),[]),Object(o.useEffect)((function(){m()}),[]),Object(f.jsxs)(d.a,{children:[Object(f.jsx)(g,{}),Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{exact:!0,path:"/",children:Object(f.jsx)(C,{show:n})}),Object(f.jsx)(u.b,{path:"/addPost",children:Object(f.jsx)(S,{sendGetRequest:h})}),Object(f.jsx)(u.b,{path:"/postDetails/:id",render:function(e){var t=n.find((function(t){return t._id===e.match.params.id}));return t?Object(f.jsx)(P,{showPostDetails:t,sendGetRequest:h}):Object(f.jsx)(u.a,{to:"/"})}}),Object(f.jsx)(u.b,{exact:!0,path:"/",children:Object(f.jsx)(I,{show:j})}),Object(f.jsx)(u.b,{path:"/userDetails/:id",render:function(e){var t=j.find((function(t){return t.id===e.match.params.id}));return t?Object(f.jsx)(E,{showUserDetails:t,sendUserGetRequest:m}):Object(f.jsx)(u.a,{to:"/"})}}),Object(f.jsx)(u.b,{path:"/editPost/:id",children:n&&Object(f.jsx)(T,{edit:n,sendGetRequest:h})})]})]})});l.a.render(Object(f.jsx)(G,{}),document.getElementById("root"))}},[[242,1,2]]]);
//# sourceMappingURL=main.2e408a4f.chunk.js.map